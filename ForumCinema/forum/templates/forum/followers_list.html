{% extends 'base.html' %}

{% load static %}
{% block mycss %}
<link rel="stylesheet" href="{% static '/css/followers.css' %}">

<script src="{% static '/script/followers.js' %}"></script>  
{% endblock mycss %}

{% block content %}
 
      <div class="row container-fluid ">
        <div class="col-lg-4">
          <div class="card mb-4">
            <div class="card-body text-center">
              <img src="{{object.userprofile.avatar.image}}" alt="avatar"
                class="rounded-circle img-fluid" style="width: 220px; height:200px">
              <h5 class="my-3">{{ object.username }}</h5>
              <p class="text-muted mb-2">{{object.userprofile.citazione.descrizione}}</p>
              <div class="d-flex justify-content-center mb-2">
                <a type="button" class="btn btn-primary " href="{% url 'forum:profilo' object.pk %}">Torna al profilo</a>        
              </div>
              <div class="row justify-content-center">
                <div class = "col-lg-5">
                    <b> Seguaci </b>
                    <p class="text-muted"> {{ object.userprofile.number_of_following }} </p>
                </div>
              <div class = "col-lg-5"> 
                    <b> Seguiti </b>
                    <p class="text-muted"> {{ object.userprofile.followers.count }} </p>
                  </div>
                </div> 
             
            </div>
          </div>
          <div class="card mb-4 mb-lg-0 text-center">
            <div class="card-body p-2">
                <p> Descrizione <p>
              {{ object.userprofile.bio }}
            </div>
          </div>
        </div>
        <div class="col-lg-8">
          <div class="card mb-4">
            <div class="card-body">
                <div class="tab container p-0">
                    <div class = "row mrl-0">
                        <div class = "col w-100">
                            <button class="tablinks w-100 " onclick="openCity(event, 'Followers')" id="defaultOpen">Seguaci</button> </div>
                        <div class = "col"> 
                            <button class="tablinks w-100" onclick="openCity(event, 'Following')">Seguiti</button>
                        </div>
                    </div>
                  </div>
                  
                  <div id="Followers" class="tabcontent">
                    {% for utenti in followers.all %}
                    <div class="d-flex align-items-middle" style="border-radius: 15px;">
                    <div class="card-body justify-content-between">
                    <div class="d-flex text-black">
                            <div class="flex-grow-1 ms-3 ">
                                <img src="{{utenti.avatar.image}}" alt="avatar" class="img-fluid" style="width: 50px; height:40px; border-radius:10px; margin-right:3px"> 
                                <a class= "ml-2 h5 font-weight-bold" style = "text-decoration:none" href="{% url 'forum:profilo' utenti.user.pk %}">{{ utenti.user.username }}</a>
                            </div>
                            <a type="button" class="btn btn-primary me-1" href ="{% url 'forum:profilo' utenti.user.pk %}">Visita</a>
                    </div>
                    </div>
                    </div>
                    {% endfor %}
                  </div>
                  
                  <div id="Following" class="tabcontent">
                    {% for utenti in following.all %}
                    <div class="d-flex align-items-middle" style="border-radius: 15px;">
                    <div class="card-body justify-content-between">
                    <div class="d-flex text-black">
                            <div class="flex-grow-1 ms-3 ">
                                <img src="{{utenti.avatar.image}}" alt="avatar" class="img-fluid" style="width: 50px; height:40px; border-radius:10px; margin-right:3px"> 
                                <a class= "ml-2 h5 font-weight-bold" style = "text-decoration:none" href="{% url 'forum:profilo' utenti.user.pk %}">{{ utenti.user.username }}</a>
                            </div>
                            <a type="button" class="btn btn-primary me-1" href ="{% url 'forum:profilo' utenti.user.pk %}">Visita</a>
                    </div>
                    </div>
                    </div>
                    {% endfor %}
                  </div>
            </div>
          </div>
        </div>


        
         
            
      </div>
{% endblock content %}